# 사용자 로그인 화면 (CMN-SCR-001)

## 사용 역할자: 수험생, 입학처 담당자, 평가위원, 상담사, 재무 담당자, 시스템 관리자

---

## 기능 1: 사용자 로그인 처리

-   **관련 요구사항:** CMN-REQ-001 (간접적으로 사용자 식별 및 접근 제어의 시작점), 프로그램 설계서 3.6 공통 (인증/인가 관리)
-   **입력 정보:**
    -   사용자 ID: 사용자가 입력하는 텍스트 필드. (예: 교직원 번호, 수험번호, 시스템 ID). 필수 입력.
    -   비밀번호: 사용자가 입력하는 비밀번호 필드. 마스킹 처리. 필수 입력.
    -   로그인 유형 선택 (필요시): '수험생', '교직원/관리자' 등 역할 구분을 위한 드롭다운 또는 라디오 버튼.
-   **출력 정보:**
    -   로그인 성공 시: 해당 사용자의 역할에 맞는 초기 대시보드 화면으로 이동. (예: 입학처 담당자 -> AMS 대시보드, 수험생 -> 수험생 포털 메인)
    -   로그인 실패 시: "ID 또는 비밀번호가 일치하지 않습니다." 또는 "로그인 유형을 확인해주세요." 메시지를 화면에 출력.
    -   계정 잠김 시: "로그인 시도 횟수 초과로 계정이 잠겼습니다. 관리자에게 문의하세요." 메시지 출력.
    -   네트워크/서버 오류 시: "시스템 오류가 발생했습니다. 잠시 후 다시 시도해주세요." 메시지 출력.
-   **프로세스 설명:**
    1.  사용자가 ID, 비밀번호 (및 필요한 경우 로그인 유형)를 입력하고 '로그인' 버튼을 클릭한다.
    2.  클라이언트 측에서 필수 입력값 누락 여부를 검사한다.
    3.  입력값을 서버 인증 API로 전송한다.
    4.  서버는 사용자 인증(ID/PW 일치, 계정 상태 확인) 및 인가(역할 확인)를 수행한다.
    5.  인증 성공 시, 서버는 세션 토큰(JWT 등)과 사용자 기본 정보(이름, 역할)를 반환한다.
    6.  클라이언트는 토큰을 안전하게 저장하고, 사용자 역할에 따라 지정된 초기 화면으로 리다이렉션한다.
    7.  인증 실패 시, 서버는 실패 사유(오류 코드/메시지)를 반환하고, 클라이언트는 해당 메시지를 사용자에게 표시한다.
-   **호출 API 정보:**
    -   HTTP 메서드: POST
    -   API 엔드포인트: `/api/cmn/auth/login`
    -   API 목적: 사용자 인증 및 세션 토큰 발급
    -   요청 파라미터 (Body):
        ```json
        {
          "userId": "사용자 입력 ID",
          "password": "사용자 입력 비밀번호",
          "loginType": "선택된 로그인 유형 (선택 사항)"
        }
        ```
    -   응답 파라미터 (Success):
        ```json
        {
          "success": true,
          "token": "JWT 토큰 문자열",
          "userName": "사용자 이름",
          "userRole": "사용자 역할 (예: 'ADMIN', 'APPLICANT', 'EVALUATOR')",
          "initialUrl": "/ams/dashboard" // 역할별 초기 화면 경로
        }
        ```
    -   응답 파라미터 (Fail):
        ```json
        {
          "success": false,
          "errorCode": "AUTH_FAILED", // 예: INVALID_CREDENTIALS, ACCOUNT_LOCKED
          "errorMessage": "ID 또는 비밀번호가 일치하지 않습니다."
        }
        ```
-   **Mockup 데이터 예시:**
    -   입력:
        ```json
        {
          "userId": "admission_admin",
          "password": "adminpassword1!",
          "loginType": "STAFF"
        }
        ```
    -   출력 (성공):
        ```json
        {
          "success": true,
          "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "userName": "김입학",
          "userRole": "ADMISSION_OFFICER",
          "initialUrl": "/ams/dashboard"
        }
        ```
    -   출력 (실패):
        ```json
        {
          "success": false,
          "errorCode": "INVALID_CREDENTIALS",
          "errorMessage": "ID 또는 비밀번호가 일치하지 않습니다."
        }
        ```

## 기능 2: 비밀번호 찾기 기능 연동 (필요시)

-   **관련 요구사항:** (명시적 요구사항 없으나 일반적인 기능)
-   **입력 정보:** '비밀번호 찾기' 링크 클릭.
-   **출력 정보:** 비밀번호 재설정 프로세스 화면으로 이동.
-   **프로세스 설명:** 사용자가 '비밀번호 찾기' 링크를 클릭하면, 비밀번호 재설정 안내 또는 인증 절차를 진행하는 화면으로 라우팅된다. (상세 프로세스는 별도 화면에서 정의)
-   **호출 API 정보:** 없음 (클라이언트 측 라우팅)
-   **Mockup 데이터:** 없음

## 기능 3: 수험생 원서접수 페이지 이동 (수험생 로그인 유형 선택 시)

-   **관련 요구사항:** (명시적 요구사항 없으나 수험생 접근 경로)
-   **입력 정보:** '원서접수 바로가기' 또는 유사 버튼 클릭 (수험생 로그인 영역).
-   **출력 정보:** 원서접수 시작/안내 화면으로 이동.
-   **프로세스 설명:** 수험생이 원서접수 관련 버튼을 클릭하면, 원서접수 시스템의 초기 화면으로 라우팅된다.
-   **호출 API 정보:** 없음 (클라이언트 측 라우팅)
-   **Mockup 데이터:** 없음

---

