# IES 환경 설정 화면 (IES-SCR-003)

## 사용 역할자: 시스템 관리자 (IES)

---

## 기능 1: 모집시기·전형별 환경 설정

-   **관련 요구사항:** IES-REQ-006: 모집시기·전형별 환경 설정
-   **입력 정보:**
    -   설정할 모집 시기/전형 선택.
    -   고사 기본 정보 설정 (고사 종류 - 면접/실기, 고사 시간, 고사장 목록 등).
    -   사용 기능 설정 (바코드/QR 사용 여부, 가번호 자동 부여 규칙 - 순차/랜덤, 조 배정 방식 등).
    -   '저장' 버튼 클릭.
-   **출력 정보:**
    -   선택된 모집 시기/전형의 환경 설정 값들이 폼에 표시됨.
    -   저장 성공/실패 메시지.
-   **프로세스 설명:**
    1.  관리자가 특정 모집 시기/전형에 대한 IES 시스템 운영 환경을 설정한다.
    2.  설정할 대상을 선택하면, 현재 저장된 설정값이 폼에 로드된다 (API 조회).
    3.  관리자가 필요한 설정을 변경하고 '저장' 버튼을 클릭한다.
    4.  클라이언트는 변경된 설정 정보를 API로 전송한다.
    5.  서버는 해당 모집 시기/전형의 환경 설정 정보를 DB에 저장/업데이트한다. 이 설정은 IES의 다른 기능들(출석, 평가 등)의 동작 방식에 영향을 준다.
    6.  결과를 클라이언트에 반환한다.
-   **호출 API 정보:**
    -   조회 API:
        -   HTTP 메서드: GET
        -   API 엔드포인트: `/api/ies/settings/environment`
        -   요청 파라미터: `admissionRound`, `admissionType`
        -   응답 파라미터: 환경 설정 정보 JSON
    -   저장 API:
        -   HTTP 메서드: PUT 또는 POST
        -   API 엔드포인트: `/api/ies/settings/environment`
        -   요청 파라미터 (Body): 업데이트된 환경 설정 정보 JSON
            ```json
            {
              "admissionRound": "2024 수시", "admissionType": "학생부종합",
              "examType": "면접", "useBarcode": true, "tempIdRule": "SEQUENTIAL", ...
            }
            ```
        -   응답 파라미터: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: '2024 수시 학생부종합' 선택 -> 바코드 사용 '예', 가번호 규칙 '순차' 설정 후 저장.
    -   출력: "환경 설정이 저장되었습니다." 메시지.

## 기능 2: 평가항목·등급·실행 설정

-   **관련 요구사항:** IES-REQ-008: 평가항목·등급·실행 설정
-   **입력 정보:**
    -   설정할 모집 시기/전형 선택.
    -   평가 단계 선택 (필요시).
    -   평가 항목 관리:
        -   항목 추가/수정/삭제 버튼.
        -   평가 항목명 입력.
        -   배점 또는 반영 비율 입력.
        -   평가 방식 선택 (점수 입력, 등급 선택 - S/A/B/C, 체크리스트 등).
        -   (등급 선택 시) 등급별 점수 또는 설명 설정.
    -   '평가 설정 저장' 버튼 클릭.
-   **출력 정보:**
    -   선택된 모집 시기/전형의 평가 항목 및 등급 설정 목록 표시 (테이블 형태).
    -   저장 성공/실패 메시지.
-   **프로세스 설명:**
    1.  관리자가 특정 모집 시기/전형에서 사용할 평가 항목과 평가 방식(척도)을 설정한다.
    2.  설정할 대상을 선택하면, 현재 설정된 정보가 로드된다 (API 조회).
    3.  관리자가 평가 항목을 추가/수정/삭제하고, 각 항목의 평가 방식(점수, 등급 등)과 세부 기준(등급별 점수 등)을 설정한다.
    4.  '저장' 버튼 클릭 시, 클라이언트는 설정 정보를 API로 전송한다.
    5.  서버는 평가 설정 정보를 DB에 저장/업데이트한다. 이 설정은 평가 입력 화면(IES-SCR-002)의 폼 구성과 평가 결과 계산에 사용된다.
    6.  결과를 클라이언트에 반환한다.
-   **호출 API 정보:**
    -   조회 API:
        -   HTTP 메서드: GET
        -   API 엔드포인트: `/api/ies/settings/evaluation-items`
        -   요청 파라미터: `admissionRound`, `admissionType`
        -   응답 파라미터: 평가 항목 설정 목록 JSON
    -   저장 API:
        -   HTTP 메서드: PUT 또는 POST
        -   API 엔드포인트: `/api/ies/settings/evaluation-items`
        -   요청 파라미터 (Body): 업데이트된 평가 항목 설정 정보 JSON
            ```json
            {
              "admissionRound": "2024 수시", "admissionType": "학생부종합",
              "items": [
                {"itemName": "전공적합성", "type": "SCORE", "maxScore": 50},
                {"itemName": "인성", "type": "GRADE", "grades": {"S": 30, "A": 25, "B": 20}},
                ...
              ]
            }
            ```
        -   응답 파라미터: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: '전공적합성'(50점 만점 점수 입력), '인성'(S/A/B 등급 선택) 항목 설정 후 저장.
    -   출력: "평가 설정이 저장되었습니다." 메시지.

---

