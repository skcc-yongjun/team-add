# 학사 이관 관리 화면 (AMS-SCR-008)

## 사용 역할자: 입학처 담당자, 시스템 관리자

---

## 기능 1: 학사 이관 대상자 선정 및 확인

-   **관련 요구사항:** AMS-REQ-027: 학번 부여 및 학사시스템 연계 (대상자 확인 단계)
-   **입력 정보:**
    -   이관 대상 조건 선택 (모집 시기, 등록 완료자 전체 등).
    -   '대상자 조회/선정' 버튼 클릭.
-   **출력 정보:**
    -   학사 이관 대상자(최종 등록 완료자) 목록 테이블 (수험번호, 이름, 생년월일, 학과, 등록 상태 등).
    -   총 대상자 수 표시.
    -   대상자별 데이터 검증 상태 표시 (예: 필수 정보 누락 여부).
-   **프로세스 설명:**
    1.  담당자가 학사 시스템으로 이관할 대상자를 선정하기 위해 조건을 설정하고 조회한다.
    2.  클라이언트는 API를 호출하여 등록이 최종 완료된 학생 목록(`PAYMENT` 상태 확인)을 조회한다.
    3.  서버는 학사 이관에 필요한 필수 정보(인적사항, 학적 정보 등)가 모두 있는지 검증하고, 그 결과를 포함하여 목록을 반환한다.
    4.  클라이언트는 목록과 검증 상태를 화면에 표시한다.
-   **호출 API 정보:**
    -   HTTP 메서드: GET
    -   API 엔드포인트: `/api/ams/transfer/targets`
    -   API 목적: 학사 이관 대상자 목록 조회 및 검증
    -   요청 파라미터: 조회 조건 (`admissionRound` 등)
    -   응답 파라미터: 이관 대상자 목록 (검증 상태 포함)
        ```json
        [
          {
            "applicationId": 1001, "applicantId": "2024S0001", "name": "홍길동",
            "departmentCode": "CS", "birthDate": "2005-03-15",
            "validationStatus": "OK", // 필수정보 확인 결과
            "studentId": null // 아직 학번 부여 전
          },
          {
            "applicationId": 1007, "applicantId": "2024S0007", "name": "이몽룡",
            "departmentCode": "EE", "birthDate": "2005-07-20",
            "validationStatus": "MISSING_ADDRESS", // 주소 정보 누락 등
            "studentId": null
          }, ...
        ]
        ```
-   **Mockup 데이터 예시:**
    -   입력: 2024 수시 등록 완료자 조회.
    -   출력: 최종 등록자 목록 및 각 학생별 필수 정보 검증 상태 표시.

## 기능 2: 학번 부여 실행

-   **관련 요구사항:** AMS-REQ-027: 학번 부여 및 학사시스템 연계 (학번 부여 단계)
-   **입력 정보:**
    -   학번 부여 대상자 확인 (기능 1에서 조회된 목록).
    -   '학번 부여 실행' 버튼 클릭. (학번 부여 규칙 확인 필요)
-   **출력 정보:**
    -   학번 부여 처리 진행 상태 표시.
    -   학번 부여 결과: 대상자 목록 테이블에 '학번' 컬럼이 채워짐.
    -   처리 결과 요약 (성공/실패 건수).
    -   학번 부여 규칙에 따른 특이사항 보고 (예: 중복 학번 시도 등).
-   **프로세스 설명:**
    1.  담당자가 학사 이관 대상자 목록을 확인하고 '학번 부여 실행' 버튼을 클릭한다.
    2.  클라이언트는 학번 부여 요청 API를 호출한다 (대상자 ID 목록 전송).
    3.  서버는 사전에 정의된 학번 부여 규칙(예: 입학연도+학과코드+일련번호)에 따라 각 대상자에게 고유한 학번을 생성한다.
    4.  생성된 학번을 `APPLICANT` 또는 별도 학적 정보 테이블에 저장한다.
    5.  처리 결과를 클라이언트에 반환하고, 클라이언트는 목록의 학번 정보를 업데이트하고 결과를 표시한다.
-   **호출 API 정보:**
    -   HTTP 메서드: POST
    -   API 엔드포인트: `/api/ams/transfer/assign-student-ids`
    -   API 목적: 학사 이관 대상자에게 학번 부여 실행
    -   요청 파라미터 (Body): 학번 부여 대상 `applicationId` 목록
        ```json
        { "applicationIds": [1001, 1003, 1007, ...] }
        ```
    -   응답 파라미터: 처리 결과 (성공/실패 건수, 부여된 학번 목록 반환 가능)
        ```json
        {
          "success": true, "totalCount": 138, "assignedCount": 138,
          "assignments": [ {"applicationId": 1001, "studentId": "20241001"}, ... ] // 선택적 반환
        }
        ```
-   **Mockup 데이터 예시:**
    -   입력: '학번 부여 실행' 클릭.
    -   출력: "학번 부여 처리 완료. 138명에게 학번이 부여되었습니다." 메시지. 목록 테이블에 학번 표시됨.

## 기능 3: 학사 시스템 연계 데이터 생성 및 전송

-   **관련 요구사항:** AMS-REQ-027: 학번 부여 및 학사시스템 연계 (데이터 전송 단계)
-   **입력 정보:**
    -   학번 부여 완료된 대상자 확인.
    -   '학사 시스템 연계 데이터 생성/전송' 버튼 클릭.
-   **출력 정보:**
    -   데이터 생성 및 전송 처리 진행 상태 표시.
    -   처리 결과: 성공/실패 메시지, 전송 건수, 오류 내역 (필요시).
    -   연계 이력 로그 표시.
-   **프로세스 설명:**
    1.  학번 부여가 완료된 후, 담당자가 학사 시스템으로 데이터를 전송하기 위해 버튼을 클릭한다.
    2.  클라이언트는 연계 데이터 생성/전송 요청 API를 호출한다.
    3.  서버는 학번이 부여된 대상자들의 학사 시스템에 필요한 모든 정보(인적, 학적, 지원 정보 등)를 표준 형식(파일, DB 직접 연동, API 호출 등 학사 시스템 연계 방식에 따라 다름)으로 생성한다.
    4.  생성된 데이터를 학사 시스템으로 전송(파일 생성 후 특정 위치 저장, API 호출 등)한다.
    5.  전송 결과(성공/실패, 오류 내용)를 기록하고 클라이언트에 반환한다.
-   **호출 API 정보:**
    -   HTTP 메서드: POST
    -   API 엔드포인트: `/api/ams/transfer/send-to-sis`
    -   API 목적: 학사 시스템 연계 데이터 생성 및 전송 실행
    -   요청 파라미터 (Body): 전송 대상 조건 (예: `admissionRound`) 또는 전송할 대상 `applicationId` 목록
    -   응답 파라미터: 전송 결과 (성공/실패, 전송 건수, 오류 상세 등)
        ```json
        {
          "success": true, "message": "학사 시스템 연계 데이터 전송 완료.",
          "sentCount": 138, "errorCount": 0, "errorDetails": []
        }
        ```
-   **Mockup 데이터 예시:**
    -   입력: '학사 시스템 연계 데이터 전송' 클릭.
    -   출력: "학사 시스템 연계 데이터 전송 완료. 138건 성공." 메시지. 연계 이력에 로그 추가.

## 기능 4: 보고용 통계 및 출력물 관리

-   **관련 요구사항:** AMS-REQ-028: 보고용 통계 및 출력물 관리
-   **입력 정보:**
    -   조회/출력할 통계 또는 보고서 종류 선택 (최종 등록 현황 통계, 출신 고교별 통계, 지역별 통계 등).
    -   필요시 조회 기간 또는 조건 설정.
    -   '통계 조회' 또는 '보고서 출력' 버튼 클릭.
-   **출력 정보:**
    -   선택한 통계 데이터가 화면에 차트, 테이블 등으로 시각화되어 표시됨.
    -   '보고서 출력' 시, 해당 통계 보고서가 파일(Excel, PDF 등)로 생성되어 다운로드됨.
-   **프로세스 설명:**
    1.  사용자가 필요한 통계/보고서 종류와 조건을 선택한다.
    2.  '통계 조회' 시: API를 호출하여 조건에 맞는 데이터를 집계/분석하고, 결과를 화면에 시각화하여 표시한다.
    3.  '보고서 출력' 시: API를 호출하여 조건에 맞는 데이터를 집계/분석하고, 서버에서 보고서 파일을 생성하여 다운로드한다. 데이터는 입학 전 과정(지원, 평가, 합격, 등록)의 데이터를 종합적으로 활용할 수 있다.
-   **호출 API 정보:**
    -   통계 조회 API:
        -   HTTP 메서드: GET
        -   API 엔드포인트: `/api/ams/statistics/{statisticType}` (예: `/api/ams/statistics/final-registration`)
        -   요청 파라미터: 조회 조건
        -   응답 파라미터: 통계 데이터 (JSON 형식, 차트 라이브러리가 이해할 수 있는 구조)
    -   보고서 출력 API:
        -   HTTP 메서드: GET 또는 POST
        -   API 엔드포인트: `/api/ams/reports/{reportType}` (예: `/api/ams/reports/regional-stats`)
        -   요청 파라미터: 조회 조건
        -   응답 파라미터: 파일 스트림
-   **Mockup 데이터 예시:**
    -   입력 (통계 조회): '출신 고교별 통계' 선택, 2024 수시 조건 설정 후 조회.
    -   출력 (통계 조회): 출신 고교 유형별(일반고, 특목고 등) 지원자/합격자/등록자 수 및 비율을 보여주는 차트와 테이블 표시.
    -   입력 (보고서 출력): '최종 등록 현황 보고서' 선택 후 출력.
    -   출력 (보고서 출력): `최종등록현황보고서_2024수시.pdf` 파일 다운로드.

---
---

(IES, RFS, ACS, FRS 화면 설계서는 분량이 매우 방대해지므로, 각 시스템의 핵심 화면 위주로 추가 작성하겠습니다. 위 AMS 설계와 동일한 상세 수준을 유지합니다.)

---

