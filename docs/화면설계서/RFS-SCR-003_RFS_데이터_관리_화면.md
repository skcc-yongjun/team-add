# RFS 데이터 관리 화면 (RFS-SCR-003)

## 사용 역할자: 시스템 관리자 (RFS)

---

## 기능 1: 녹취·충원 데이터 업로드

-   **관련 요구사항:** RFS-REQ-007: 녹취·충원 데이터 업로드 및 수정 (업로드 기능)
-   **입력 정보:**
    -   업로드할 데이터 종류 선택 (예: 오프라인 통화 결과 일괄 업로드, 특정 차수 대상자 재업로드 등).
    -   파일 선택 (CSV, Excel 등 표준 형식).
    -   업로드 옵션 선택 (덮어쓰기, 추가 등).
    -   '업로드 및 처리 시작' 버튼 클릭.
-   **출력 정보:**
    -   업로드 진행률 표시.
    -   처리 결과 요약 (총 건수, 성공, 실패, 오류 로그).
    -   업로드 이력 목록.
-   **프로세스 설명:**
    1.  시스템 오류 복구 또는 외부 데이터 통합 등을 위해 관리자가 수동으로 충원 관련 데이터를 업로드해야 할 경우 사용한다.
    2.  표준 형식의 파일을 선택하고 업로드를 시작한다.
    3.  서버는 파일을 검증하고 내용을 파싱하여 `RECRUITMENT_LOG` 또는 관련 테이블에 데이터를 반영한다. (비동기 배치 처리 방식 권장)
    4.  처리 결과를 클라이언트에 반환하여 표시한다.
-   **호출 API 정보:**
    -   파일 업로드 API: `POST /api/rfs/data/upload`
    -   처리 상태 조회 API: `GET /api/rfs/data/upload/status/{jobId}`
    -   (API 구조는 AMS-SCR-003의 파일 업로드 기능과 유사)
-   **Mockup 데이터 예시:**
    -   입력: 오프라인 통화 결과 파일 `offline_calls.csv` 업로드.
    -   출력: "데이터 업로드 완료. 총 50건 처리, 성공 48건, 실패 2건." 메시지 및 로그 링크.

## 기능 2: 녹취·충원 데이터 수정

-   **관련 요구사항:** RFS-REQ-007: 녹취·충원 데이터 업로드 및 수정 (수정 기능)
-   **입력 정보:**
    -   수정할 데이터 검색/조회 (RFS-REQ-008: 지원자·모집단위별 검색·필터 - 고급 검색 기능 필요).
        -   검색 조건: 모집 시기, 차수, 지원자명/수험번호, 통화 결과, 상담사 등.
    -   목록에서 수정할 레코드(예: 특정 통화 기록) 선택.
    -   수정할 필드 값 변경 (예: 통화 결과 정정, 메모 수정).
    -   '수정 내용 저장' 버튼 클릭.
-   **출력 정보:**
    -   검색 조건에 맞는 데이터 목록 테이블 (`RECRUITMENT_LOG` 등).
    -   수정 성공/실패 메시지.
    -   수정된 내용이 목록에 반영됨.
-   **프로세스 설명:**
    1.  관리자가 잘못 입력되었거나 정정이 필요한 충원/녹취 데이터를 검색하여 조회한다.
    2.  목록에서 해당 데이터를 선택하고 필요한 필드를 수정한다.
    3.  '저장' 버튼 클릭 시, 클라이언트는 수정된 내용과 해당 레코드 ID를 API로 전송한다.
    4.  서버는 DB 데이터를 업데이트하고 변경 이력을 기록한다. (AMS와의 정합성 유지 중요, 필요시 AMS 업데이트 연동)
    5.  결과를 클라이언트에 반환한다.
-   **호출 API 정보:**
    -   고급 검색 API: `GET /api/rfs/data/search` (다양한 검색 조건 지원)
    -   수정 API: `PUT /api/rfs/data/logs/{logId}` (또는 대상 테이블/ID에 따라 엔드포인트 변경)
        -   Body: 수정된 필드와 값
        -   응답: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: 특정 통화 기록 검색 -> 통화 결과 '부재'를 '포기'로 수정 후 저장.
    -   출력: "수정되었습니다." 메시지. 해당 로그의 통화 결과 업데이트됨.

---

