# RFS 충원 설정 및 관리 화면 (RFS-SCR-002)

## 사용 역할자: 시스템 관리자 (RFS), 입학처 담당자

---

## 기능 1: 전형·차수별 충원 서비스 생성 및 설정

-   **관련 요구사항:** RFS-REQ-006: 전형·차수별 서비스 생성·설정
-   **입력 정보:**
    -   '충원 서비스 생성' 버튼 클릭.
    -   설정 폼:
        -   모집 시기/전형 선택 (AMS 연동).
        -   충원 차수 (1차, 2차, ...).
        -   충원 대상자 선정 기준 (예비 순위 범위, 배수 설정 - RFS-REQ-010 연관).
        -   충원 진행 기간 (시작일, 종료일).
        -   상담사 배정 (선택 사항).
        -   SMS 자동 발송 템플릿 설정 (예: 부재 시 자동 발송 문구).
    -   '저장' 버튼 클릭.
-   **출력 정보:**
    -   생성된 충원 서비스 목록 테이블 (모집 시기, 전형, 차수, 기간, 상태 - 대기/진행중/종료).
    -   저장 성공/실패 메시지.
-   **프로세스 설명:**
    1.  관리자가 각 충원 차수별로 RFS 시스템 운영을 위한 기본 설정을 생성한다.
    2.  설정 폼에 필요한 정보(대상, 기간, 기준 등)를 입력하고 저장한다.
    3.  클라이언트는 설정 정보를 API로 전송한다.
    4.  서버는 DB에 충원 서비스 설정 정보를 저장한다. 이 설정은 RFS 상담사 워크스테이션(RFS-SCR-001)의 대상자 목록 조회 및 기능 동작에 영향을 준다.
-   **호출 API 정보:**
    -   조회 API: `GET /api/rfs/services`
    -   생성/수정 API: `POST /api/rfs/services` 또는 `PUT /api/rfs/services/{serviceId}`
        -   Body: 충원 서비스 설정 정보 JSON
            ```json
            {
              "admissionRound": "2024 수시", "admissionType": "학생부종합",
              "recruitmentRound": 1, "startDate": "2024-08-20", "endDate": "2024-08-21",
              "targetCriteria": {"type": "RANK_RANGE", "startRank": 1, "endRank": 10}, // 또는 "MULTIPLIER", value: 3
              "assignedCounselors": ["counselor_A", "counselor_B"], ...
            }
            ```
        -   응답: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: 2024 수시 학생부종합 1차 충원 설정 (예비 1~10번 대상) 저장.
    -   출력: 목록에 해당 충원 서비스 추가됨. "저장 완료." 메시지.

## 기능 2: 교차 충원 자동 인원 조정 설정

-   **관련 요구사항:** RFS-REQ-011: 교차 충원 자동 인원조정
-   **입력 정보:**
    -   자동 조정 기능 활성화 여부 (체크박스).
    -   조정 규칙 설정 (예: 타 학과 등록 시 해당 학과 충원 대상에서 즉시 제외).
    -   '설정 저장' 버튼 클릭.
-   **출력 정보:** 현재 설정 상태 표시. 저장 성공/실패 메시지.
-   **프로세스 설명:**
    1.  관리자가 교차 지원자가 특정 학과/전형에 등록했을 때, 다른 지원 학과/전형의 충원 대상 목록에서 자동으로 제외(또는 상태 변경)하는 규칙을 설정한다.
    2.  설정 내용을 저장하면, 서버는 이 규칙을 시스템 로직에 반영한다.
    3.  RFS 상담사가 통화 결과 '등록'을 입력했을 때(RFS-SCR-001 기능 3), 서버는 해당 지원자의 다른 지원 건이 있는지 확인하고, 설정된 규칙에 따라 다른 지원 건의 충원 상태를 자동으로 조정(예: '타 충원 등록으로 제외')한다.
-   **호출 API 정보:**
    -   조회/저장 API: `GET /api/rfs/settings/auto-adjustment` 또는 `PUT /api/rfs/settings/auto-adjustment`
        -   Body: `{ "enabled": true, "rule": "EXCLUDE_ON_REGISTER" }`
        -   응답: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: 자동 조정 활성화, 규칙 선택 후 저장.
    -   출력: "설정이 저장되었습니다." 메시지.

## 기능 3: 등록·환불 기간 설정 관리

-   **관련 요구사항:** RFS-REQ-014: 등록·환불 기간 설정 관리
-   **입력 정보:**
    -   관리할 모집 시기/전형/차수 선택.
    -   등록 마감일 설정 (날짜/시간).
    -   환불 신청 마감일 설정 (날짜/시간).
    -   '기간 설정 저장' 버튼 클릭.
-   **출력 정보:** 설정된 기간 정보 표시. 저장 성공/실패 메시지.
-   **프로세스 설명:**
    1.  관리자가 각 충원 차수별 등록금 납부 마감 시한과 환불 신청 가능 기간을 설정한다.
    2.  이 정보는 RFS 상담사가 충원 안내 시 참고하거나, FRS 시스템과 연계하여 실제 납부/환불 가능 여부를 제어하는 데 사용될 수 있다.
    3.  설정된 기간 정보는 DB에 저장된다.
-   **호출 API 정보:**
    -   조회/저장 API: `GET /api/rfs/settings/deadlines` 또는 `PUT /api/rfs/settings/deadlines`
        -   요청 파라미터: `admissionRound`, `recruitmentRound` 등
        -   Body: `{ "registrationDeadline": "2024-08-21T16:00:00", "refundDeadline": "2024-08-21T18:00:00" }`
        -   응답: 성공/실패 정보
-   **Mockup 데이터 예시:**
    -   입력: 1차 충원 등록 마감일 설정 후 저장.
    -   출력: "기간 설정이 저장되었습니다." 메시지.

---

